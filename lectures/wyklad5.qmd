---
title: "WYKÅAD 5 â€“ Projektowanie interfejsu bazy danych i praktyczne wykorzystanie SQL/PL/SQL"
---

## ğŸ¯ Temat: ÅÄ…czenie bazy danych z aplikacjÄ… i praktyczne operacje

Celem wykÅ‚adu jest pokazanie, jak projektowaÄ‡ **interfejs do bazy danych** w Å›rodowisku programistycznym, integrowaÄ‡ SQL i PL/SQL w aplikacjach oraz wykonywaÄ‡ typowe operacje na danych.

---

## ğŸ§  Cele wykÅ‚adu

Student po wykÅ‚adzie bÄ™dzie potrafiÅ‚:

- projektowaÄ‡ podstawowy interfejs do bazy danych w wybranym Å›rodowisku (np. Python, Java, C#),  
- korzystaÄ‡ z **poÅ‚Ä…czeÅ„ bazodanowych (DB connection)**,  
- wykonywaÄ‡ zapytania SQL i bloki PL/SQL z poziomu aplikacji,  
- rozumieÄ‡ podstawy zabezpieczania danych i transakcji w aplikacjach.

---

## 1ï¸âƒ£ Projektowanie interfejsu bazy danych

### ğŸ”¹ Co to jest interfejs bazy danych?

- Interfejs to **warstwa komunikacji miÄ™dzy aplikacjÄ… a bazÄ… danych**.  
- Pozwala aplikacji wysyÅ‚aÄ‡ zapytania SQL, odbieraÄ‡ wyniki i przetwarzaÄ‡ je w logice biznesowej.  

### ğŸ”¹ GÅ‚Ã³wne elementy interfejsu

1. **PoÅ‚Ä…czenie z bazÄ… danych** â€“ obiekt, ktÃ³ry umoÅ¼liwia komunikacjÄ™ z serwerem DB.  
2. **WysyÅ‚anie zapytaÅ„** â€“ wykonanie SELECT, INSERT, UPDATE, DELETE lub wywoÅ‚aÅ„ procedur PL/SQL.  
3. **ObsÅ‚uga wynikÃ³w** â€“ pobieranie danych w formie rekordÃ³w lub tabel.  
4. **ZarzÄ…dzanie transakcjami** â€“ commit, rollback.  

Opis sÅ‚owny: interfejs bazy dziaÅ‚a jak most miÄ™dzy programem a fizycznÄ… bazÄ… danych. Bez niego aplikacja nie â€wieâ€, gdzie i jak przechowywane sÄ… dane.

---

## 2ï¸âƒ£ PrzykÅ‚ad â€“ poÅ‚Ä…czenie do bazy w Pythonie

```python
import cx_Oracle

# NawiÄ…zanie poÅ‚Ä…czenia
conn = cx_Oracle.connect('uzytkownik/haslo@localhost/XE')
cursor = conn.cursor()

# Wykonanie zapytania SELECT
cursor.execute("SELECT imie, nazwisko FROM Studenci")
for row in cursor:
    print(f"Student: {row[0]} {row[1]}")

# ZamkniÄ™cie poÅ‚Ä…czenia
cursor.close()
conn.close()
```
kod pokazuje, jak w Pythonie poÅ‚Ä…czyÄ‡ siÄ™ z bazÄ… Oracle, pobraÄ‡ dane i je wyÅ›wietliÄ‡.

## 3ï¸âƒ£ Wykonywanie operacji SQL i PL/SQL w aplikacji

ğŸ”¹ Operacje SQL

- INSERT â€“ dodawanie nowych rekordÃ³w.
- UPDATE â€“ modyfikacja istniejÄ…cych danych.
- DELETE â€“ usuwanie rekordÃ³w.

PrzykÅ‚ad:
```sql
cursor.execute("INSERT INTO Studenci VALUES (12347, 'Piotr', 'Nowak', 22)")
conn.commit()
```
conn.commit() zatwierdza zmiany w bazie. Bez commit zmiany nie bÄ™dÄ… trwaÅ‚e.

### ğŸ”¹ WywoÅ‚anie procedury PL/SQL
```sql
cursor.callproc("dodaj_studenta", [12348, 'Anna', 'Kowalska', 21])
conn.commit()
```
callproc pozwala wywoÅ‚aÄ‡ procedury zapisane w bazie, co umoÅ¼liwia automatyzacjÄ™ logiki biznesowej.

## 4ï¸âƒ£ ObsÅ‚uga transakcji w aplikacjach

- Transakcje zapewniajÄ… spÃ³jnoÅ›Ä‡ danych, nawet gdy aplikacja wykonuje wiele operacji jednoczeÅ›nie.
- Typowy wzorzec:
	1.	Rozpocznij transakcjÄ™
	2.	Wykonaj operacje (INSERT, UPDATE, DELETE)
	3.	W razie powodzenia: commit
	4.	W razie bÅ‚Ä™du: rollback

PrzykÅ‚ad w Pythonie:
```python
try:
    cursor.execute("UPDATE Kursy SET IloscMiejsc = IloscMiejsc - 1 WHERE KursID = 10")
    cursor.execute("INSERT INTO Studenci VALUES (12349, 'Kasia', 'WiÅ›niewska', 20)")
    conn.commit()
except:
    conn.rollback()
    print("WystÄ…piÅ‚ bÅ‚Ä…d, transakcja wycofana")

```
ziÄ™ki transakcji zmiany sÄ… atomowe â€“ albo wszystkie operacje siÄ™ powiodÄ…, albo Å¼adna.

## 6ï¸âƒ£ Indeksy i optymalizacja zapytaÅ„ w aplikacji

- Indeksy przyspieszajÄ… wyszukiwanie i filtrowanie danych w tabelach.
- W aplikacji warto zwracaÄ‡ uwagÄ™ na kolumny, po ktÃ³rych najczÄ™Å›ciej wyszukujemy.

PrzykÅ‚ad w SQL:
```sql
CREATE INDEX idx_student_nazwisko ON Studenci(Nazwisko);
```

indeks moÅ¼e znaczÄ…co przyspieszyÄ‡ SELECT w aplikacjach o duÅ¼ych zbiorach danych, ale spowalnia INSERT/UPDATE.

## 7ï¸âƒ£ Podsumowanie wykÅ‚adu

### ğŸ”‘ Kluczowe pojÄ™cia:
- Interfejs bazy danych â€“ poÅ‚Ä…czenie miÄ™dzy aplikacjÄ… a DBMS
- Operacje SQL i PL/SQL z poziomu aplikacji
- ZarzÄ…dzanie transakcjami dla spÃ³jnoÅ›ci danych
- Indeksy i podstawowe zasady optymalizacji

### ğŸ’¡ WskazÃ³wka:
W praktyce projektowanie interfejsu wymaga zarÃ³wno znajomoÅ›ci bazy danych, jak i jÄ™zyka programowania. Dobrze zaprojektowana komunikacja z bazÄ… zmniejsza liczbÄ™ bÅ‚Ä™dÃ³w i zwiÄ™ksza wydajnoÅ›Ä‡ aplikacji.