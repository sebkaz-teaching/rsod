---
title: "Normalizacja i projektowanie baz danych"
---


## ğŸ¯ Temat: Jak uniknÄ…Ä‡ bÅ‚Ä™dÃ³w w projektowaniu?

Celem wykÅ‚adu jest pokazanie, jak unikaÄ‡ bÅ‚Ä™dÃ³w podczas projektowania relacyjnych baz danych poprzez stosowanie zasad **normalizacji**, zrozumienie **zaleÅ¼noÅ›ci funkcjonalnych** oraz wykorzystanie **diagramÃ³w ERD** (Entityâ€“Relationship Diagram).



## ğŸ§  Cele wykÅ‚adu

- nauczenie zasad **normalizacji** relacyjnych baz danych,  
- zrozumienie pojÄ™cia **zaleÅ¼noÅ›ci funkcjonalnych**,  
- wprowadzenie do **diagramÃ³w ERD** jako narzÄ™dzia modelowania danych.


## ğŸ“‹ Zakres treÅ›ci

### 1. Problemy zÅ‚ego projektu bazy danych

ZÅ‚e zaprojektowanie struktury bazy danych prowadzi do wielu problemÃ³w:

#### ğŸ”¹ Redundancja danych

To **powielanie tych samych informacji** w rÃ³Å¼nych miejscach bazy.  
PrzykÅ‚ad: jeÅ›li w kaÅ¼dej tabeli z zamÃ³wieniami przechowujemy peÅ‚ne dane klienta, to zmiana jego adresu wymaga aktualizacji wielu rekordÃ³w.

#### ğŸ”¹ Anomalie danych
BÅ‚Ä™dy i niekonsekwencje wynikajÄ…ce z nadmiarowej struktury danych.

- **Anomalia aktualizacji** â€“ zmiana jednej informacji wymaga wielu modyfikacji.  
  *Np. zmiana nazwiska wykÅ‚adowcy w kilku wierszach tabeli.*

- **Anomalia wstawiania** â€“ brak moÅ¼liwoÅ›ci dodania danych bez istnienia innych.  
  *Np. nie moÅ¼na dodaÄ‡ nowego kursu, dopÃ³ki nie zapisze siÄ™ na niego student.*

- **Anomalia usuwania** â€“ usuniÄ™cie rekordu powoduje utratÄ™ innych informacji.  
  *Np. usuniÄ™cie ostatniego studenta z kursu powoduje utratÄ™ danych o samym kursie.*

ğŸ‘‰ **Wniosek:** bÅ‚Ä™dy projektowe utrudniajÄ… utrzymanie spÃ³jnoÅ›ci danych.

---

### 2. ZaleÅ¼noÅ›ci funkcjonalne

#### ğŸ”¹ Definicja
ZaleÅ¼noÅ›Ä‡ funkcjonalna (ang. *functional dependency*) opisuje **relacjÄ™ miÄ™dzy atrybutami** w tabeli.

MÃ³wimy, Å¼e atrybut *B* jest **funkcyjnie zaleÅ¼ny** od atrybutu *A* (zapis:  
**A â†’ B**), jeÅ›li kaÅ¼dej wartoÅ›ci *A* odpowiada dokÅ‚adnie jedna wartoÅ›Ä‡ *B*.

#### ğŸ”¹ PrzykÅ‚ady
- NrIndeksu â†’ ImiÄ™, Nazwisko, Kierunek  
  (kaÅ¼dy numer indeksu jednoznacznie identyfikuje studenta)
- Kurs â†’ Sala, ProwadzÄ…cy  
  (dany kurs odbywa siÄ™ zawsze w tej samej sali, prowadzony przez tÄ™ samÄ… osobÄ™)

#### ğŸ”¹ Klucze
- **Klucz gÅ‚Ã³wny (primary key)** â€“ jednoznacznie identyfikuje wiersz tabeli.  
- **Klucz kandydujÄ…cy (candidate key)** â€“ minimalny zestaw atrybutÃ³w, ktÃ³ry moÅ¼e byÄ‡ kluczem.  
- **Klucz obcy (foreign key)** â€“ wskazuje na klucz gÅ‚Ã³wny w innej tabeli i tworzy powiÄ…zanie miÄ™dzy tabelami.

#### ğŸ”¹ Typy zaleÅ¼noÅ›ci
- **ZaleÅ¼noÅ›Ä‡ peÅ‚na** â€“ atrybut zaleÅ¼y od caÅ‚ego klucza zÅ‚oÅ¼onego.  
- **ZaleÅ¼noÅ›Ä‡ czÄ™Å›ciowa** â€“ atrybut zaleÅ¼y tylko od czÄ™Å›ci klucza.  
- **ZaleÅ¼noÅ›Ä‡ przechodnia** â€“ atrybut zaleÅ¼y poÅ›rednio od klucza (A â†’ B â†’ C).

---

### 3. Formy normalne (1NF â€“ 3NF, BCNF)

Normalizacja to proces przeksztaÅ‚cania tabel w taki sposÃ³b, aby **usunÄ…Ä‡ redundancjÄ™** i **zapobiec anomaliom**.

#### ğŸ§© Pierwsza postaÄ‡ normalna (1NF)
- Wszystkie wartoÅ›ci w tabeli sÄ… **atomowe** (niepodzielne).  
- Brak list, zbiorÃ³w lub kolumn powtarzajÄ…cych siÄ™.  
âœ… *KaÅ¼da kolumna ma jednÄ… wartoÅ›Ä‡ w komÃ³rce.*

**PrzykÅ‚ad (naruszenie 1NF):**
| Student | NrIndeksu | Kursy |
|----------|------------|--------|
| Jan Nowak | 12345 | Bazy danych, Programowanie |

âœ… *Poprawnie:*  
Tworzymy osobnÄ… tabelÄ™ STUDENT_KURS, gdzie kaÅ¼dy kurs to osobny rekord.

---

#### ğŸ§© Druga postaÄ‡ normalna (2NF)
- Tabela jest w 1NF **i** wszystkie atrybuty niekluczowe zaleÅ¼Ä… **w peÅ‚ni** od caÅ‚ego klucza gÅ‚Ã³wnego.  
- Dotyczy tabel z **kluczem zÅ‚oÅ¼onym**.

**PrzykÅ‚ad:**
Tabela ZAPISY(StudentID, KursID, Sala)  
â†’ atrybut *Sala* zaleÅ¼y tylko od *KursID*, a nie od caÅ‚ego klucza (StudentID, KursID).  
RozwiÄ…zanie: wydziel tabelÄ™ KURS(KursID, Sala).

---

#### ğŸ§© Trzecia postaÄ‡ normalna (3NF)
- Tabela jest w 2NF **i** nie zawiera zaleÅ¼noÅ›ci przechodnich.  
- KaÅ¼dy atrybut niekluczowy zaleÅ¼y bezpoÅ›rednio od klucza gÅ‚Ã³wnego.

**PrzykÅ‚ad:**
NrIndeksu â†’ Kierunek, Kierunek â†’ Dziekan  
â¡ï¸ *Dziekan* zaleÅ¼y poÅ›rednio od *NrIndeksu*.  
RozwiÄ…zanie: osobna tabela KIERUNEK(Dziekan, Kierunek).

---

#### ğŸ§© PostaÄ‡ Boyceâ€™a-Codda (BCNF)
- Dla kaÅ¼dej zaleÅ¼noÅ›ci A â†’ B, zbiÃ³r A musi byÄ‡ **kluczem kandydujÄ…cym**.  
- Bardziej restrykcyjna niÅ¼ 3NF â€“ eliminuje wszelkie potencjalne redundancje.

---

### 4. Diagramy ERD (Entityâ€“Relationship Diagram)

Diagram ERD jest graficznym sposobem przedstawienia **modelu konceptualnego** bazy danych.

#### ğŸ”¹ GÅ‚Ã³wne elementy ERD
- **Encja (Entity)** â€“ obiekt, o ktÃ³rym przechowujemy dane (np. Student, Kurs).  
- **Atrybut (Attribute)** â€“ wÅ‚aÅ›ciwoÅ›Ä‡ encji (np. ImiÄ™, Nazwisko, NrIndeksu).  
- **Relacja (Relationship)** â€“ powiÄ…zanie miÄ™dzy encjami (np. Student zapisuje siÄ™ na Kurs).  
- **KardynalnoÅ›Ä‡ (Cardinality)** â€“ okreÅ›la licznoÅ›Ä‡ relacji:  
  - 1:1 (jeden do jednego)  
  - 1:N (jeden do wielu)  
  - N:M (wielu do wielu)  
- **Identyfikator (Primary Key)** â€“ atrybut jednoznacznie identyfikujÄ…cy encjÄ™.

#### ğŸ”¹ PrzykÅ‚ad:

```sql
STUDENT (NrIndeksu, ImiÄ™, Nazwisko, Kierunek)
KURS (KursID, Nazwa, ProwadzÄ…cy)
ZAPIS (NrIndeksu, KursID, DataZapisu)

```

Relacja miÄ™dzy STUDENT a KURS: N:M poprzez encjÄ™ poÅ›redniczÄ…cÄ… ZAPIS.

---

### 5. Proces projektowania bazy danych

Projektowanie bazy to proces etapowy:

1. **Analiza wymagaÅ„** â€“ zrozumienie, jakie dane sÄ… potrzebne i jakie operacje bÄ™dÄ… wykonywane.  
2. **Model konceptualny** â€“ opis danych w postaci ERD.  
3. **Model logiczny** â€“ zamiana modelu ERD na relacyjny schemat tabel.  
4. **Model fizyczny** â€“ implementacja w konkretnym systemie DBMS (np. PostgreSQL, MySQL).

---

### 6. Akcent praktyczny

**Ä†wiczenie (do wykonania na zajÄ™ciach):**  
Zaprojektuj model bazy danych dla prostego **systemu uczelnianego**, obejmujÄ…cego:
- StudentÃ³w,
- Kursy,
- WykÅ‚adowcÃ³w,
- Zapis na kursy.

Przygotuj:
1. Diagram ERD,  
2. Schemat relacyjny po normalizacji (do 3NF).

---

## ğŸ“ Efekty uczenia siÄ™

Po zakoÅ„czeniu wykÅ‚adu student:
- rozumie pojÄ™cia **normalizacji** i **zaleÅ¼noÅ›ci funkcjonalnych**,  
- potrafi rozpoznaÄ‡ bÅ‚Ä™dy projektowe (redundancja, anomalie),  
- potrafi zaprojektowaÄ‡ **relacyjnÄ… bazÄ™ danych** zgodnie z zasadami normalizacji,  
- zna podstawowe elementy **diagramÃ³w ERD** i proces projektowania bazy danych.

---

> ğŸ’¡ **WskazÃ³wka dla studentÃ³w:**  
> W praktyce dÄ…Å¼ymy do uzyskania trzeciej postaci normalnej (3NF).  
> Czasami stosuje siÄ™ **denormalizacjÄ™** dla poprawy wydajnoÅ›ci, ale tylko po wczeÅ›niejszym zrozumieniu skutkÃ³w tego dziaÅ‚ania.